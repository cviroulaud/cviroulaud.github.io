\documentclass[a4paper,11pt]{article}
\input{/home/tof/Documents/Cozy/latex-include/preambule_lua.tex}
\newcommand{\showprof}{show them}  % comment this line if you don't want to see todo environment
\fancyhead[L]{Exercices - langage machine}
\newdate{madate}{10}{09}{2020}
\fancyhead[R]{\displaydate{madate}} %\today
\fancyfoot[L]{~\\Christophe Viroulaud}
\fancyfoot[C]{\textbf{Page \thepage}}
\fancyfoot[R]{\includegraphics[width=2cm,align=t]{/home/tof/Documents/Cozy/latex-include/cc.png}}

\begin{document}
\begin{Form}
\begin{exo}
Que fait le programme \ref{prog1}?
\lstinputlisting[firstline=2,label=prog1,caption=Que fait ce programme?]{scripts/somme-entier.txt}
\end{exo}
\begin{exo}
Traduire les instruction suivantes en assembleur:
\begin{lstlisting}
x=y+42
if x==42:
    z=1
else:
    z=2
\end{lstlisting}
\end{exo}
\begin{exo}
Les microprocesseurs Intel utilisent le langage d'assemblage x86. Ce langage a huit registres: eax, ebx, ecx, edx, esi, edi, esp et ebp. La documentation (très incomplète) ci-dessous présente plusieurs instructions de ce langage:
\begin{center}
\begin{tabular}{|*{3}{>{\centering\arraybackslash}m{.3\textwidth}|}}
\hline 
Instructions & Utilisation & Exemple \\ 
\hline 
mov destination, source & copie la source dans la destination & mov eax, 42 \\ 
\hline 
add destination, source & ajoute la source à la destination & add eax, 10 \\ 
\hline 
sub destination, source & soustraie la source à la destination & sub eax, 10 \\ 
\hline 
cmp source1, source2 & effectue la soustraction source1-source2 et indique le résultat de comparaison dans des registres spéciaux (flag). Si le flag \emph{zf} vaut 1 c'est que \emph{source1} est égal à \emph{source2}. Si le flag \emph{sf} vaut 1 c'est que \emph{source1} est inférieure à \emph{source2}. & cmp eax, ebx \\ 
\hline 
je adr & saute à l'adresse si le flag \emph{zf} vaut 1. L'adresse est une étiquette ou label. & je label \\ 
\hline 
jne adr & saute à l'adresse si \emph{zf} vaut 0. L'adresse est une étiquette ou label. & jne label \\ 
\hline 
jmp adr & saute à l'adresse. L'adresse est une étiquette ou label. & jmp label \\ 
\hline 
\end{tabular} 
\end{center}
Traduire le code \ref{prog1} dans le langage assembleur x86.
\end{exo}
\end{Form}
\end{document}