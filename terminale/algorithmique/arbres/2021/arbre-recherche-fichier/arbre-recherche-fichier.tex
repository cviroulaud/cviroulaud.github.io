\documentclass[a4paper,11pt]{article}
\input{/home/tof/Documents/Cozy/latex-include/preambule_lua.tex}
\newcommand{\showprof}{show them}  % comment this line if you don't want to see todo environment
\fancyhead[L]{Arbre - recherche de fichier}
\newdate{madate}{10}{09}{2020}
%\fancyhead[R]{\displaydate{madate}} %\today
%\fancyhead[R]{Seconde - SNT}
%\fancyhead[R]{Première - NSI}
\fancyhead[R]{Terminale - NSI}
\fancyfoot[L]{~\\Christophe Viroulaud}
\AtEndDocument{\label{lastpage}}
\fancyfoot[C]{\textbf{Page \thepage/\pageref{lastpage}}}
\fancyfoot[R]{\includegraphics[width=2cm,align=t]{/home/tof/Documents/Cozy/latex-include/cc.png}}
\usepackage{tikz}
%DODO parcours en profondeur attention: il manque préfixe, infixe postfixe dès maintenant (livre MPI P108)
\begin{document}
\begin{Form}
\section{Problématique}
Pour retrouver un document les systèmes d'exploitation proposent une fonction de recherche.
\begin{center}
\begin{lstlisting}
find -name "mon-fichier.pdf"
\end{lstlisting}
\captionof{code}{Rechercher \emph{mon-fichier.pdf} dans le dossier courant et ses sous-dossiers}
\label{find}
\end{center}
\begin{center}
\shadowbox{\parbox{14cm}{\centering Comment effectuer une recherche efficace dans la structure des dossiers?}}
\end{center}
\section{Structure arborescente}
\subsection{Hiérarchie des dossiers}
La structure des dossiers dans un système d'exploitation est hiérarchique.
\begin{center}
\centering
\includegraphics[width=7cm]{ressources/arbre-linux.png}
\captionof{figure}{Structure hiérarchique d'un système Linux}
\label{hierarchihe}
\end{center}
\begin{aretenir}[]
Un arbre est un graphe non orienté, connexe et sans cycle dans lequel on a choisi un nœud \textbf{racine}.
\end{aretenir}
\subsection{Caractéristiques d'un arbre}
De manière usuelle un arbre est représentée \emph{à l'envers}, la racine en haut. La figure \ref{arbre} illustrera les définitions ci-après.
\begin{itemize}
\item Chaque \textbf{nœud} possède un seul nœud \emph{père} sauf la racine. \emph{P est la racine.}
\item Chaque \emph{nœud} peut avoir un nombre indéfini de \textbf{fils}. \emph{T et N sont les fils de Y.}
\item Les nœuds qui n'ont pas de fils sont des \textbf{feuilles}. \emph{H est une feuille.}
\item La \textbf{hauteur (ou profondeur)} d'un arbre est la longueur du plus grand chemin entre la racine et une feuille. \emph{La hauteur de l'arbre est 3.}
\end{itemize}
\begin{aretenir}[Remarque]
La définition de la \emph{hauteur} varie dans la littérature. Elle peut être présentée comme le nombre maximum de sommets entre la racine et une feuille. \emph{La hauteur de l'arbre est alors 4.}
\end{aretenir}
\begin{center}
\begin{tikzpicture}
\node[draw] (P) at (0,0) {P};
\node[draw] (Y) at (-2,-1) {Y};
\node[draw] (T) at (-3,-2) {T};
\node[draw] (N) at (-1,-2) {N};
\node[draw] (H) at (-4,-3) {H};
\node[draw] (O) at (-2,-3) {O};
\node[draw] (I) at (0,-1) {I};
\node[draw] (S) at (2,-1) {S};
\node[draw] (F) at (1,-2) {F};
\node[draw] (U) at (2,-2) {U};
\node[draw] (N2) at (3,-2) {N};
\draw (P) -- (Y);
\draw (T) -- (Y);
\draw (T) -- (H);
\draw (T) -- (O);
\draw (N) -- (Y);
\draw (P) -- (I);
\draw (P) -- (S);
\draw (F) -- (S);
\draw (S) -- (U);
\draw (N2) -- (S);
\end{tikzpicture}
\captionof{figure}{Une structure arborescente}
\label{arbre}
\end{center}
\section{Parcours d'un arbre}
Les dossiers d'un système d'exploitation sont construits sous forme d'un arbre. Comme dans un graphe nous pouvons parcourir cet arbre de plusieurs manières, en partant de la racine.
\subsection{Parcours en largeur}
L'arbre est parcouru niveau par niveau. À chaque étage les nœuds sont parcourus avant de passer au niveau suivant. L'ordre des nœuds par niveau n'est pas déterminé.
\begin{activite}
Parcourir en largeur l'arbre de la figure \ref{arbre}.
\end{activite}
\subsection{Parcours en profondeur}
Un des sous-arbres est parcouru entièrement avant qu'un autre ne soit exploré. 
\begin{activite}
Parcourir en profondeur l'arbre de la figure \ref{arbre}.
\end{activite}
\section{Rechercher un fichier}
La commande \emph{find} du système Linux parcourt les sous-dossiers pour trouver le document demandé.

\begin{activite}
\begin{enumerate}
\item Se rendre sur le simulateur de \emph{terminal Linux}: \url{https://tinyurl.com/y839kd4f} .
\item Créer l'arborescence de dossiers de la figure \ref{arbre} à l'aide des instructions suivantes:\\
\begin{lstlisting}
mkdir p # Créer le dossier p
cd p # Entrer dans le dossier p
cd .. # Retourner dans le dossier père
\end{lstlisting}
\item Se placer dans le dossier \emph{p}.
\item La commande suivante affiche le parcours d'une recherche quelconque. L'exécuter.
\begin{lstlisting}
find -print
\end{lstlisting}
\item Quel type de parcours effectue la fonction \emph{find}?
\end{enumerate}
\end{activite}
\end{Form}
\end{document}